<template>
    <div>
        <!-- banner start -->
            <section class="">
                <div class="">
                    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0"
                        class="slide-btn" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" class="slide-btn active "
                        aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" class="slide-btn"
                        aria-label="Slide 3"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item layer">
                        <img src="../assets/images/sliders-imagens02.png" class="d-block w-100 slide-img" alt="...">
                        <div class="carousel-caption bottom-minus-180">
                            <div class="max-width">
                            <div class="row align-items-center">
                                <div class="col-lg-5 text-center text-lg-start py-4">
                                <h2 class="font-size-32 fw-bold letter-space-3">Welcome to Luso.</h2>
                                <p class="font-size-18 pt-5 robo">We're a hands on digital <br> investments consultancy team</p>
                                </div>
                                <div class="col-lg-2 py-lg-0 py-4">
                                </div>
                                <div class="col-lg-5 py-3">
                                <div class="">
                                    <h5 class=" font-size-28 fw-normal">Get started.</h5>
                                    <button class="font-size-18 slide-right-btn mt-3 word-space robo">Create Account</button>
                                </div>
                                </div>
                            </div>
                            </div>
                        </div>
                        </div>
                        <div class="carousel-item active layer">
                        <img src="../assets/images/sliders-imagens01.png" class="d-block w-100 slide-img" alt="...">
                        <div class="carousel-caption bottom-minus-180">
                            <div class="max-width">
                            <div class="row align-items-center">
                                <div class="col-lg-5 text-center text-lg-start py-4">
                                <h2 class="font-size-32 fw-bold letter-space-3">Welcome to Luso.</h2>
                                <p class="txt-shadow font-size-18 pt-5 robo">We're a hands on digital <br> investments consultancy team</p>
                                </div>
                                <div class="col-lg-2 py-lg-0 py-3">
                                </div>
                                <div class="col-lg-5 py-4">
                                <div class="">
                                    <h5 class="txt-shadow font-size-28 fw-normal">Get started.</h5>
                                    <button class="txt-shadow font-size-18 slide-right-btn mt-3 word-space robo">Create Account</button>
                                </div>
                                </div>
                            </div>
                            </div>
                        </div>
                        </div>
                        <div class="carousel-item layer">
                        <img src="../assets/images/sliders-imagens03.png" class="d-block w-100 slide-img" alt="...">
                        <div class="carousel-caption bottom-minus-180">
                            <div class="max-width">
                            <div class="row align-items-center">
                                <div class="col-lg-5 text-center text-lg-start py-4">
                                <h2 class="font-size-32 fw-bold letter-space-3">Welcome to Luso.</h2>
                                <p class="font-size-18 pt-5 robo">We're a hands on digital <br> investments consultancy team</p>
                                </div>
                                <div class="col-lg-2 py-lg-0 py-3">
                                </div>
                                <div class="col-lg-5 py-4">
                                <div class="">
                                    <h5 class=" font-size-28 fw-normal">Get started.</h5>
                                    <button class="font-size-18 slide-right-btn mt-3 word-space robo">Create Account</button>
                                </div>
                                </div>
                            </div>
                            </div>
                        </div>
                        </div>
                        
                    </div>
                    </div>
                </div>
                <div class="bg-1">
                    <div class="max-width py-4">
                    <div class="row text-center">
                        <div class="col-md-4">
                        <button class="txt-4 w-100 py-2 font-size-22" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0">SECURE</button>
                        </div>
                        <div class="col-md-4 border-end border-white border-start">
                        <button class="txt-4 py-2 w-100 font-size-22 active" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                        aria-label="Slide 2">RELIABALE</button>
                        </div>
                        <div class="col-md-4 py-2">
                        <button class="txt-4 w-100 font-size-22" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                        aria-label="Slide 3">FAST</button>
                        </div>
                    </div>
                    </div>
                </div>
            </section>
        <!-- banner end -->
        <!-- chart start -->
        <section class="chart-bg-color section-space">
            <div class="max-width">
                <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <div class="pe-lg-5 me-lg-4">
                    <h2 class="font-size-32 fw-bold letter-space">Crypto Market <br>
                        Valuation 24/7</h2>
                    <p class="py-4 font-size-16 robo">Integer imperdict felis posuere malesueda purus et, gravida eros. Nunc semper risus temper  odio dapi-bus , non venenatis ligula euismod.</p>
                    <p class="font-size-16 pb-3 robo">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Cumque reiciendis et,
                        quas nostrum fugiat officiis, voluptatem illum quasi atque temporibus, sunt quod aliquam illo quia!</p>
                    <div class="py-5">
                        <img class="left-icon-img" src="../assets/images/bitcoin-1.png" alt="">
                        <img class="left-icon-img ms-2 ms-sm-3 ms-md-4 ms-lg-5" src="../assets/images/bitcoin-2.png" alt="">
                        <img class="left-icon-img ms-2 ms-sm-3 ms-md-4 ms-lg-5" src="../assets/images/bitcoin-3.png" alt="">
                        <img class="left-icon-img-last ms-2 ms-sm-3 ms-md-4 ms-lg-5" src="../assets/images/img9.png" alt="">
                    </div>
                    <button class="slide-right-btn-2 font-size-18 mt-3 word-space robo">Keep Up-to-date</button>
                    </div>
                </div>
                <div class="col-md-6 pt-md-0 pt-5">
                  
                  <div v-if="!option.dataset.source.length" class="d-flex justify-content-center align-items-center" style="height:524px;">
                    <div class="spinner-border text-primary" style="width: 6rem; height: 6rem;" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </div>
                    <v-chart v-else class="chart" :option="option" />
                </div>
                </div>
            </div>
        </section>
        <!-- chart end -->
        <!-- right-slide start -->
        <section class="section-space mb-4 mb-md-0 bg-white">
            <div class="max-width pb-3">
                <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <div class="pe-lg-5 me-lg-4">
                    <h2 class="font-size-32 fw-bold text-dark letter-space">Transaction History </h2>
                    <p class="py-4 font-size-16 robo">Integer imperdict felis posuere malesueda purus et, gravida eros. Nunc
                    semper risus temper odio dapi-bus , non venenatis ligula euismod.</p>
                    <button class="slide-right-btn-2 mt-3 word-space robo">Get Full Report</button>
                    </div>
                </div>
                <div class="col-12 col-md-6 mb-4 mt-5 mt-md-0">
                    <div class="">
                    <div id="carouselExampleIndicators2" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-indicators w-s4-slider m-0">
                        <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="0"
                            class="active w-s4-slider-btn" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="1"
                            class="w-s4-slider-btn" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="2"
                            class="w-s4-slider-btn" aria-label="Slide 3"></button>
                        </div>
                        <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="row text-center text-md-start">
                            <div class="col-sm-4 col-6 mx-auto py-3 py-md-0">
                                <p class=" txt-4 font-size-25">Unique</p>
                                <p class=" font-size-32 txt-2">+10k</p>
                                <p class=" txt-4 font-size-25">Trades</p>
                            </div>
                            <div class="col-sm-4 col-6 mx-auto py-3 py-md-0 ">
                                <p class=" txt-4 font-size-25">Overall</p>
                                <p class=" font-size-32 txt-2">+10k</p>
                                <p class=" txt-4 font-size-25">Clients</p>
                            </div>
                            <div class="col-sm-4 col-6 mx-auto py-3 py-md-0 ">
                                <p class=" txt-4 font-size-25">Active</p>
                                <p class=" font-size-32 txt-2">+7.5k</p>
                                <p class=" txt-4 font-size-25">Users</p>
                            </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="row text-center text-md-start">
                            <div class=" col-sm-4 col-6 mx-auto py-3 py-md-0">
                                <p class=" txt-4 font-size-25">Unique</p>
                                <p class=" font-size-32 txt-2">+10k</p>
                                <p class=" txt-4 font-size-25">Trades</p>
                            </div>
                            <div class=" col-sm-4 col-6 mx-auto py-3 py-md-0 ">
                                <p class=" txt-4 font-size-25">overall</p>
                                <p class=" font-size-32 txt-2">+10k</p>
                                <p class=" txt-4 font-size-25">Clients</p>
                            </div>
                            <div class=" col-sm-4 col-6 mx-auto py-3 py-md-0 ">
                                <p class=" txt-4 font-size-25">Active</p>
                                <p class=" font-size-32 txt-2">+7.5k</p>
                                <p class=" txt-4 font-size-25">Users</p>
                            </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="row text-center text-md-start">
                            <div class=" col-sm-4 col-6 mx-auto py-3 py-md-0">
                                <p class=" txt-4 font-size-25">Unique</p>
                                <p class=" font-size-32 txt-2">+10k</p>
                                <p class=" txt-4 font-size-25">Trades</p>
                            </div>
                            <div class=" col-sm-4 col-6 mx-auto py-3 py-md-0 ">
                                <p class=" txt-4 font-size-25">Overall</p>
                                <p class=" font-size-32 txt-2">+10k</p>
                                <p class=" txt-4 font-size-25">Clients</p>
                            </div>
                            <div class=" col-sm-4 col-6 mx-auto py-3 py-md-0 ">
                                <p class=" txt-4 font-size-25">Active</p>
                                <p class=" font-size-32 txt-2">+7.5k</p>
                                <p class=" txt-4 font-size-25">Users</p>
                            </div>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
                </div>
            </div>
        </section>
    <!-- right-slide end -->
    <!-- START INVESTING start -->
    <section class="investing-bg investing-space-b">
        <div class="investing-bg-2"></div>
        <div class="max-width investing-bg-position">
          <div class="row ">
            <h3 class="text-center font-size-28 txt-2 pb-5 letter-space-2"> START INVESTING IN 3 EASY STEPS </h3>
  
            <div class="col-12 col-md-4">
              <div class="d-flex justify-content-center">
                <span class="bg-1 investing-card d-flex justify-content-center align-items-center">
                  <p class="font-size-18  text-white letter-space"> 1. CREATE </p>
                </span>
              </div>
              <div class="d-flex justify-content-center py-4 my-2">
                <span class="div-shadow"></span>
              </div>
              <p class="font-size-16 text-center word-space robo">Create and setup <br> your account</p>
            </div>
            <div class="col-12 col-md-4 pt-5 pt-md-0">
              <div class="d-flex justify-content-center">
                <span class="bg-1 investing-card d-flex justify-content-center align-items-center">
                  <p class="font-size-18 text-white letter-space"> 2. SETUP </p>
                </span>
              </div>
              <div class="d-flex justify-content-center py-4 my-2">
                <span class="div-shadow"></span>
              </div>
              <p class="font-size-16 text-center word-space robo">Select the currency <br> to buy or sell</p>
            </div>
            <div class="col-12 col-md-4 pt-5 pt-md-0">
              <div class="d-flex justify-content-center">
                <span class="bg-1 investing-card d-flex justify-content-center align-items-center">
                  <p class="font-size-18 text-white letter-space"> 3. MANAGE </p>
                </span>
              </div>
              <div class="d-flex justify-content-center py-4 my-2">
                <span class="div-shadow"></span>
              </div>
              <p class="font-size-16 text-center word-space robo">pay and get your crypto <br>in your wallet</p>
            </div>
          </div>
        </div>
    </section>
    <!-- START INVESTING end -->
    <!-- if you are loking start -->
    <section class="section-space">
      <div class="max-width">
        <h3 class="text-center font-size-25 txt-2 letter-space-2"> IF YOU'RE LOOKING FOR A WALLET </h3>
        <div class="row up-down-space">
          <div v-for="currencyList in currency_list" :key="currencyList.id" class="col-6 col-sm-6 col-lg-3 my-2">
              <img class="left-icon-img" :src="require(`../assets/images/coin/${currencyList.icon}`)"  alt="">
              <span class="font-size-18 txt-2 ps-md-2 ps-0">{{ currencyList.name }}</span>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="d-flex justify-content-center">
              <button class="px-5 f-btn-bg position-relative">
                <p class="font-size-16 text-center text-lg-start ps-lg-2 pe-lg-5 txt-2">Buy and sell cryptocurrencies <br>
                  via bank transfer or MB way.</p>
                <div class="f-btn-icon-bg cursor">
                  <img class="f-button-icon" src="../assets/images/bitcoin-1.png" alt="">
                </div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- if you are loking end -->
    </div>
</template>

<script>
import { use } from "echarts/core";
import { CanvasRenderer } from "echarts/renderers";
import { BarChart } from "echarts/charts";
import axios from 'axios';
import {
  GridComponent,
  DatasetComponent,
  LegendComponent,
  TooltipComponent,
} from "echarts/components";
import VChart from "vue-echarts";
use([
  CanvasRenderer,
  BarChart,
  GridComponent,
  DatasetComponent,
  LegendComponent,
  TooltipComponent,
]);

export default {
  name: 'Home',
  components: { VChart, },
  
  data(){
    return{
      sliderBtn:'btn2',
      currency_list:[],
      option: {
            color:['#1C01A5'],
            legend: { },
            tooltip: {  },
            dataset: {
            dimensions: ['MONTH', 'VALUE', ''],
            source: [
                
            ]
            },
            xAxis: { type: 'category' },
            yAxis: {  },
            series: [{ type: 'bar' }, { type: 'bar' }],
            animationDuration: 1500
        },
        errorMessage:"",
        
    }
  },

  methods:{
      setSliderBtn(value){
          this.sliderBtn = value;
          if(this.sliderBtn === 'btn1'){
              this.$router.push({ name: 'welcome'});
          }
          if(this.sliderBtn === 'btn2'){
              this.$router.push({ name: 'home'});
          }
      },
  },

  mounted(){
    // GET request using axios with error handling
    axios.get("https://api.luso.oudi.pt/api/pair/btceur/chart")
    .then(response => {
      // this.option.source
    let newList=response.data.data.slice(response.data.data.length-30)
    let newChartList=[]
    newList.forEach(element => {
      let chartData={
        MONTH:"",
        VALUE:"",
      }
      var dt = new Date(element.time);
      chartData.MONTH=(dt.getMonth() + 1) + "/" + dt.getDate();
      chartData.VALUE=parseInt(element.value);
      newChartList.push(chartData)
      
    });
    this.option.dataset.source=newChartList;
     axios.get("https://api.luso.oudi.pt/api/coin/index").then((response) => {
            this.currency_list = response.data.data;
        });
    
    })
    .catch(error => {
      this.errorMessage = error.message;
      console.error("There was an error!", error);
    });
  }
}
</script>
   