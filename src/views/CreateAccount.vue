<template>
    <div>
        <!-- my profile start -->
        <section class="section-space">
          <div class="max-width">
              <div class="w-100 text-center text-md-start mb-4 ">
                  <h2 class="txt-2 font-size-32">Create Your Account</h2>
              </div>
              <div>
                  <div class="row">
                    

                    <!-- <div class="col-12 col-md-6">
                        <div class="input-div d-flex">
                            <label class="txt-3 robo" for="userName">Country</label>
                            <a href="javascript:;" class="btn-icon-2 cursor txt-3"> <i class="fas fa-caret-down fa-2x"></i></a>
                        </div>
                        
                        <select class="create-ac-country-drop w-100 cursor position-relative">
                            <option selected>Country</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </div> -->

                    <div class="col-12 col-md-6">
                      <input v-model="form.name" class="input-div txt-3 d-block w-100 robo" type="text" placeholder="Name">
                    </div>

                    <div class="col-12 col-md-6">
                      <input v-model="form.email" class="input-div txt-3 d-block w-100 robo" type="text" placeholder="Email">
                    </div>
                    
                       <div class="col-12 col-md-6">
                        <input v-model="form.phone" class="input-div txt-3 d-block w-100 robo" type="text" placeholder="Phone">
                      </div>

                      <div class="col-12 col-md-6">
                        <input v-model="form.password" class="input-div txt-3 d-block w-100 robo" type="text" placeholder="Password">
                      </div>
                      
                      <!-- <div class="col-12 col-md-6">
                          <div class="d-flex px-3 justify-content-center">
                              <div @click="setCaptcha" class="g-recaptcha" data-size="1000" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"></div>
                          </div>
                      </div> -->
                      <div class="col-12 col-md-6">
                          <div class="d-flex px-3 justify-content-center">
                            
                             <vue-recaptcha v-show="showRecaptcha" sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"
                                size="normal" 
                                theme="light"
                                hl="tr"
                                @verify="recaptchaVerified($event)"
                                @expire="recaptchaExpired"
                                @fail="recaptchaFailed"
                                ref="vueRecaptcha">
                              </vue-recaptcha>
                          </div>
                      </div>

                      <div class="col-12 col-md-6">
                        <input v-model="form.password_confirmation" class="input-div txt-3 d-block w-100 robo" type="text" placeholder="Password Confirmation">
                      </div>

                      <div class="col-12 col-md-6">
                          <div class="d-flex px-3 p-21 robo">
                              <p class="txt-3">Already create an account? <br><a href="javascript:;" class="txt-3 text-decoration-underline">Sign In</a> Instead.</p>
                          </div>
                      </div>

                      <div class="col-12 col-md-6 align-items-center">
                          <div class="d-flex px-3 p-21">
                              <input v-model="checkbox_status" class="cursor form-check-input radio-btn p-2" type="checkbox" id="flexCheckDefault">
                              <label class="px-3 txt-3 robo" for="flexCheckDefault">
                                    By Continuing I agree to the <a href="javascript:;" class="txt-3">Terms of service</a> and <a href="javascript:;" class="txt-3">Privecy Policy</a>
                              </label>
                          </div>
                      </div>

                      <div class="col-12 col-md-6">
                          <button @click="createAccount" class="w-100 text-center input-div txt-3 robo">Create Account</button>
                      </div>
                  </div>
              </div>
          </div>
        </section>
      <!-- my profile end -->

      <!-- mission start -->
      <section class="mission-section-space mission-space-t bg-white">
          <div class="max-width">
            <h2 class="text-center font-size-28 txt-2 mb-5 letter-space-3">OUR MISSION</h2>
            <div class="row">
              <div class="col-12 col-md-6">
                <div class="txt-gray robo text-center text-md-end pe-md-2">
                  <p class="txt-gray pb-4 ">
                    A<span class="fw-bold"> Luso Digital Assets</span> negoceia activos digigtais (criptomoeda) ao publico  pela internet
                  </p>
                  <p>
                    Fazemos com que a experiencia do utilizador seja o mais simples e rapida possivel, para que novos investidores, curiousos, sem grande conhecimento tecnico possam entrar neste mercado
                  </p>
                </div>
              </div>
              <div class="col-12 col-md-6">
                <div class="txt-gray text-center robo text-md-start ps-md-2 mt-4 mt-md-5 pt-4">
                  <p class="pb-4">
                    Temos tambem como objectivo a ajuda e educacao aos clientes desta area, de forma a que se sintam seguros a trabalhar connosco, e que tomem responsibilidade pelos seus fundos.
                  </p>
                  <p>
                    Queremos ser a ponte dos activos mobiliarios para os activos digitais.
                  </p>
                </div>
              </div>
            </div>
          </div>
      </section>
      <!-- mission end -->

      <!-- bellow mission start -->
      <section class="feature-section-space bg-1">
        <div class="max-width">
          <div class="row">
            <div class="col-12 col-md-6">
              <div class="pe-md-2">
                <img class="w-100 minus-margin" src="../assets/images/mission-img.png" alt="">
              </div>
            </div>
            <div class="col-12 col-md-6">
              <div class="txt-4 text-center robo text-md-start ps-md-2 pt-5 pt-md-0">
                <p class="font-size-18">What we know is a drop. What we don't know is an ocean, and while criptocurrency may look like the sea of opportunities you'll need a great navigator like luso Digital Assets alongside with you</p>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- bellow mission end -->

      <!-- feature start -->
      <section class="mission-section-space mission-space-b  bg-white">
        <div class="max-width">
          <div class="row flex-column-reverse flex-md-row">
            <div class="col-12 col-md-6">
              <div class="txt-gray text-start pe-md-2">
                <p class="text-uppercase font-size-28 txt-2 mt-5 mt-md-0 letter-space-2">
                  do you want<br class="d-none d-md-block"> to know to more<br class="d-none d-md-block"> about investing in<br class="d-none d-md-block"> criptocurrency with <br class="d-none d-md-block">luso digital assets 
                </p>
                  <ul class="mb-0 ps-0 pt-4 font-size-18 d-flex flex-wrap align-items-center">
                    <li class="pe-3"><a class="underline txt-2 letter-space-2" href="javascript:;">Features</a></li>
                    <li class="pe-3"><a class="underline txt-2 letter-space-2" href="javascript:;">Support</a></li>
                    <li class="pe-3"><a class="underline txt-2 letter-space-2" href="javascript:;">Criptoguides</a></li>
                  </ul>
              </div>
            </div>
            <div class="col-12 col-md-6">
              <div class="ps-md-2">
                <img class="w-100 minus-margin2" src="../assets/images/img2.png" alt="">
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- feature end -->

    </div>
</template>

<script>
import form from 'vuejs-form';
import axios from 'axios';
import vueRecaptcha from 'vue3-recaptcha2';

let create_ac = {
    email:'',
    name:'',
    phone:'',
    password:'',
    password_confirmation:'',
    // country:'',
    g_recaptcha_response:'',
};
export default {
  name: 'CreateAccount',
  components: { vueRecaptcha },
  
  data(){
    return{
        checkbox_status: false,
        showRecaptcha: true,

        form: form.default(create_ac).rules({
                email: 'required',
                name:'required',
                phone:'required',
                country:'required',
                password:'required',
            }).messages({
                'email.required': 'This field is required.',
                'name.required': 'This field is required.',
                'phone.required': 'This field is required.',
                'country.required': 'Product data is required.',
                'password.required': 'This field is required.',
            }),
    }
  },
  methods:{
      createAccount(){
          if(this.checkbox_status){
              console.log(this.form.all());   

              axios.post("https://api.luso.oudi.pt/api/register", this.form.all()).then((response)=>{
                  if(response.data.success==true){
                    this.$router.push({ name: 'purchase-list'});
                  }
              }).catch((error) => {
              });
              
              
          } else {
              console.log('checkbox not checked.');          
          }
      },
      recaptchaVerified(response) {
        console.log(response)
      },
      recaptchaExpired() {
        this.$refs.vueRecaptcha.reset();
      },
      recaptchaFailed() {
      },
  },
  mounted(){
  }
}
</script>
   